# Image Processing Toolkit & Cat API

**zakharov_6403** — это библиотека на Python для обработки изображений и взаимодействия с API котиков (TheCatAPI). Проект включает в себя инструменты для асинхронной загрузки данных, а также реализации алгоритмов компьютерного зрения (детектирование границ, свертки) как с использованием OpenCV, так и через низкоуровневые операции на NumPy.

Разработчик: **Захаров Никита Константинович**
Группа: **6403-010302D**

---

## Возможности

- **Взаимодействие с API**:
  - Синхронный и асинхронный (`asyncio`, `aiohttp`) клиенты.
  - Поддержка пагинации и фильтрации по породам.
- **Обработка изображений**:
  - `library`: Высокопроизводительная реализация на базе **OpenCV**.
  - `custom`: Образовательная реализация алгоритмов (свертка, Собель, Харрис) на чистом **NumPy** и **Numba**.
- **Тестирование**:
  - Полное покрытие функционала unit-тестами.
  - Изолированные тесты без реальных сетевых запросов.

---

## Установка и Настройка

### 1. Создание виртуального окружения

Рекомендуется использовать изолированное виртуальное окружение для разработки и тестирования.

**Windows (PowerShell):**
```powershell
python -m venv .venv
.venv\Scripts\Activate.ps1
```

**Linux / macOS:**
```bash
python3 -m venv .venv
source .venv/bin/activate
```

### 2. Установка зависимостей

```bash
pip install -r requirements.txt
```

---

## Сборка и Установка пакета

Пакет подготовлен для распространения в формате Wheel (`.whl`) и Source Distribution (`.tar.gz`).

### 1. Сборка дистрибутива

Для создания артефактов сборки выполните следующую команду в корне проекта:

```bash
# Установка инструментов сборки (если не установлены)
pip install build

# Запуск процесса сборки
python -m build
```

После успешного выполнения в директории `dist/` появятся файлы:
- `zakharov_6403-0.1.0-py3-none-any.whl`
- `zakharov_6403-0.1.0.tar.gz`

### 2. Импорт и установка в окружение

Вы можете установить собранный пакет в любое виртуальное окружение, используя `pip`. Это эмулирует установку библиотеки конечным пользователем.

```bash
# Пример установки собранного whl-файла
pip install dist/zakharov_6403-0.1.0-py3-none-any.whl
```

После установки модули пакета доступны для импорта в Python:

```python
from cat_api import CatImageProcessor
from async_cat_api import AsyncCatImageProcessor
from implementation import ImageProcessing, ImageProcessingCustom

# Пример использования
processor = CatImageProcessor(limit=5)
images = processor.fetch_images()
```

---

## Тестирование

Проект оснащен набором автоматических тестов, проверяющих корректность работы алгоритмов и API клиентов.

Для запуска всех тестов выполните:

```bash
python -m unittest discover tests
```

### Структура тестов:
- `tests/test_cat_image.py`: Проверка классов изображений, арифметических операций и конвертаций.
- `tests/test_cat_image_processor.py`: Проверка логики процессора, мокирование HTTP-запросов и файловых операций.

---

## Структура проекта

```text
.
├── cat_api/                # Синхронное ядро и модели данных
├── async_cat_api/          # Асинхронные расширения (asyncio)
├── implementation/         # Алгоритмы обработки (OpenCV vs Custom)
├── interfaces/             # Абстрактные базовые классы
├── tests/                  # Пакет модульных тестов
├── setup.py                # Конфигурация сборки пакета
├── main.py                 # CLI утилита (пример использования)
└── README.md               # Документация проекта
```

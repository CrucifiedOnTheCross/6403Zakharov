# Image Processing Toolkit & Cat API

Пакет для обработки изображений, включающий работу с API котиков (синхронно и асинхронно) и реализацию алгоритмов компьютерного зрения (свертки, фильтры, детектирование границ).

Разработчик: **Захаров Никита Константинович (Группа 6403-010302D)**

## Установка и настройка окружения

### 1. Создание виртуального окружения
Рекомендуется использовать изолированное окружение для работы с проектом.

**Windows (PowerShell):**
```powershell
# Создание окружения в папке .venv
python -m venv .venv

# Активация окружения
.venv\Scripts\Activate.ps1
```

**Linux / macOS:**
```bash
python3 -m venv .venv
source .venv/bin/activate
```

### 2. Установка зависимостей
```bash
pip install -r requirements.txt
# Или установка через Pipfile (если используется pipenv)
pipenv install
```

---

## Запуск тестов

Проект содержит набор unit-тестов для проверки функциональности API и обработки изображений.

Для запуска всех тестов выполните команду:
```bash
python -m unittest discover tests
```

Тесты проверяют:
- RGB <-> Grayscale конвертацию.
- Кастомные алгоритмы свертки и выделения границ.
- Арифметические операции над изображениями.
- Мокирование сетевых запросов к CatAPI.

---

## Сборка и публикация пакета

### 1. Сборка пакета
Перед публикацией или локальной установкой пакет необходимо собрать. Это создаст `.tar.gz` (исходный код) и `.whl` (бинарный дистрибутив) в папке `dist/`.

```bash
# Установка инструментов сборки
pip install build twine

# Сборка проекта
python -m build
```

### 2. Локальная установка (для проверки)
Вы можете установить собранный пакет в другое виртуальное окружение, чтобы проверить, как он будет работать у конечного пользователя.

```bash
# Создаем тестовое окружение
python -m venv .venv_check

# Устанавливаем свежесобранный wheel-файл
# (замените версию на актуальную)
.venv_check\Scripts\pip install dist\zakharov_6403-0.1.0-py3-none-any.whl
```

### 3. Загрузка в TestPyPI
TestPyPI — это тестовая версия Python Package Index, позволяющая проверить процесс публикации без "засорения" основного репозитория.

**Предварительные требования:**
1. Зарегистрируйтесь на [TestPyPI](https://test.pypi.org/).
2. Создайте API Token в настройках аккаунта.

**Команда загрузки:**
```bash
twine upload --repository testpypi dist/*
```
При запросе username введите `__token__`, а в качестве пароля используйте ваш API Token (начинается с `pypi-`).

### 4. Установка из TestPyPI
После успешной загрузки пакет можно установить с тестового репозитория:

```bash
pip install --index-url https://test.pypi.org/simple/ --no-deps zakharov_6403
```

---

## Структура проекта

- **cat_api/**: Синхронная работа с API, базовые классы изображений.
- **async_cat_api/**: Асинхронная загрузка и обработка (asyncio, aiohttp).
- **implementation/**: Реализации алгоритмов обработки (OpenCV vs Custom/NumPy).
- **interfaces/**: Абстрактные интерфейсы.
- **tests/**: Модульные тесты.
- **setup.py**: Конфигурация пакета для распространения.
